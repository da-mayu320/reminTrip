<h1>旅行情報一覧</h1>

<%= form_with url: fetch_from_gmail_travel_infos_path, method: :post, local: true do %>
  <%= submit_tag "Gmailから最新情報を取得" %>
<% end %>

<% if @travel_infos.any? %>
  <table>
    <thead>
      <tr>
        <th>予約番号</th>
        <th>搭乗日</th>
        <th>出発地</th>
        <th>到着地</th>
      </tr>
    </thead>
    <tbody>
      <% @travel_infos.each do |info| %>
        <tr>
          <td><%= info.reservation_number %></td>
          <td><%= info.flight_date&.strftime("%Y-%m-%d") %></td>
          <td><%= info.departure || "–" %></td>
          <td><%= info.arrival || "–" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>まだ旅行情報はありません。</p>
<% end %>





